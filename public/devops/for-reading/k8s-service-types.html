<!DOCTYPE html> <html><head>
		<title>K8s Service Types</title>
		<base href="..\../">
		<meta id="root-path" root-path="..\../">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=1.0, maximum-scale=5.0">
		<meta charset="UTF-8">
		<meta name="description" content="Sarang's DevOps Notes - K8s Service Types">
		<meta property="og:title" content="K8s Service Types">
		<meta property="og:description" content="Sarang's DevOps Notes - K8s Service Types">
		<meta property="og:type" content="website">
		<meta property="og:url" content="https://notes.sarangwandile.xyz/devops/for-reading/k8s-service-types.html">
		<meta property="og:image" content="undefined">
		<meta property="og:site_name" content="Sarang's DevOps Notes">
		<link rel="alternate" type="application/rss+xml" title="RSS Feed" href="https://notes.sarangwandile.xyz/lib/rss.xml"><script async="" id="webpage-script" src="lib/scripts/webpage.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script type="module" async="" id="graph-view-script" src="lib/scripts/graph-view.js"></script><script async="" id="graph-wasm-script" src="lib/scripts/graph-wasm.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="graph-render-worker-script" src="lib/scripts/graph-render-worker.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="tinycolor-script" src="lib/scripts/tinycolor.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="pixi-script" src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.4.0/pixi.min.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="minisearch-script" src="https://cdn.jsdelivr.net/npm/minisearch@6.3.0/dist/umd/index.min.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><link rel="icon" href="lib/media/favicon.png"><script async="" id="graph-data-script" src="lib/scripts/graph-data.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><style>body{--line-width:40em;--line-width-adaptive:40em;--file-line-width:40em;--sidebar-width:min(20em, 80vw);--collapse-arrow-size:11px;--tree-horizontal-spacing:0.6em;--tree-vertical-spacing:0.6em;--sidebar-margin:12px}.sidebar{height:100%;min-width:calc(var(--sidebar-width) + var(--divider-width-hover));max-width:calc(var(--sidebar-width) + var(--divider-width-hover));font-size:14px;z-index:10;position:relative;overflow:hidden;transition:min-width ease-in-out,max-width ease-in-out;transition-duration:.2s;contain:size}.sidebar-left{left:0}.sidebar-right{right:0}.sidebar.is-collapsed{min-width:0;max-width:0}body.floating-sidebars .sidebar{position:absolute}.sidebar-content{height:100%;min-width:calc(var(--sidebar-width) - var(--divider-width-hover));top:0;padding:var(--sidebar-margin);padding-top:4em;line-height:var(--line-height-tight);background-color:var(--background-secondary);transition:background-color,border-right,border-left,box-shadow;transition-duration:var(--color-fade-speed);transition-timing-function:ease-in-out;position:absolute;display:flex;flex-direction:column}.sidebar:not(.is-collapsed) .sidebar-content{min-width:calc(max(100%,var(--sidebar-width)) - 3px);max-width:calc(max(100%,var(--sidebar-width)) - 3px)}.sidebar-left .sidebar-content{left:0;border-top-right-radius:var(--radius-l);border-bottom-right-radius:var(--radius-l)}.sidebar-right .sidebar-content{right:0;border-top-left-radius:var(--radius-l);border-bottom-left-radius:var(--radius-l)}.sidebar:has(.sidebar-content:empty):has(.topbar-content:empty){display:none}.sidebar-topbar{height:2em;width:var(--sidebar-width);top:var(--sidebar-margin);padding-inline:var(--sidebar-margin);z-index:1;position:fixed;display:flex;align-items:center;transition:width ease-in-out;transition-duration:inherit}.sidebar.is-collapsed .sidebar-topbar{width:calc(2.3em + var(--sidebar-margin) * 2)}.sidebar .sidebar-topbar.is-collapsed{width:0}.sidebar-left .sidebar-topbar{left:0}.sidebar-right .sidebar-topbar{right:0}.topbar-content{overflow:hidden;overflow:clip;width:100%;height:100%;display:flex;align-items:center;transition:inherit}.sidebar.is-collapsed .topbar-content{width:0;transition:inherit}.clickable-icon.sidebar-collapse-icon{background-color:transparent;color:var(--icon-color-focused);padding:0!important;margin:0!important;height:100%!important;width:2.3em!important;margin-inline:0.14em!important;position:absolute}.sidebar-left .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);right:var(--sidebar-margin)}.sidebar-right .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);left:var(--sidebar-margin)}.clickable-icon.sidebar-collapse-icon svg.svg-icon{width:100%;height:100%}.sidebar-section-header{margin:0 0 1em 0;text-transform:uppercase;letter-spacing:.06em;font-weight:600}body{transition:background-color var(--color-fade-speed) ease-in-out}.webpage-container{display:flex;flex-direction:row;height:100%;width:100%;align-items:stretch;justify-content:center}.document-container{opacity:1;flex-basis:100%;max-width:100%;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;transition:opacity .2s ease-in-out;contain:inline-size}.hide{opacity:0;transition:opacity .2s ease-in-out}.document-container>.markdown-preview-view{margin:var(--sidebar-margin);margin-bottom:0;width:100%;width:-webkit-fill-available;width:-moz-available;width:fill-available;background-color:var(--background-primary);transition:background-color var(--color-fade-speed) ease-in-out;border-top-right-radius:var(--window-radius,var(--radius-m));border-top-left-radius:var(--window-radius,var(--radius-m));overflow-x:hidden!important;overflow-y:auto!important;display:flex!important;flex-direction:column!important;align-items:center!important;contain:inline-size}.document-container>.markdown-preview-view>.markdown-preview-sizer{padding-bottom:80vh!important;width:100%!important;max-width:var(--line-width)!important;flex-basis:var(--line-width)!important;transition:background-color var(--color-fade-speed) ease-in-out;contain:inline-size}.markdown-rendered img:not([width]),.view-content img:not([width]){max-width:100%;outline:0}.document-container>.view-content.embed{display:flex;padding:1em;height:100%;width:100%;align-items:center;justify-content:center}.document-container>.view-content.embed>*{max-width:100%;max-height:100%;object-fit:contain}:has(> :is(.math,table)){overflow-x:auto!important}.document-container>.view-content{overflow-x:auto;contain:content;padding:0;margin:0;height:100%}.scroll-highlight{position:absolute;width:100%;height:100%;pointer-events:none;z-index:1000;background-color:hsla(var(--color-accent-hsl),.25);opacity:0;padding:1em;inset:50%;translate:-50% -50%;border-radius:var(--radius-s)}</style><script defer="">async function loadIncludes(){if("file:"!=location.protocol){let e=document.querySelectorAll("include");for(let t=0;t<e.length;t++){let o=e[t],l=o.getAttribute("src");try{const e=await fetch(l);if(!e.ok){console.log("Could not include file: "+l),o?.remove();continue}let t=await e.text(),n=document.createRange().createContextualFragment(t),i=Array.from(n.children);for(let e of i)e.classList.add("hide"),e.style.transition="opacity 0.5s ease-in-out",setTimeout((()=>{e.classList.remove("hide")}),10);o.before(n),o.remove(),console.log("Included file: "+l)}catch(e){o?.remove(),console.log("Could not include file: "+l,e);continue}}}else{if(document.querySelectorAll("include").length>0){var e=document.createElement("div");e.id="error",e.textContent="Web server exports must be hosted on an http / web server to be viewed correctly.",e.style.position="fixed",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.fontSize="1.5em",e.style.fontWeight="bold",e.style.textAlign="center",document.body.appendChild(e),document.querySelector(".document-container")?.classList.remove("hide")}}}document.addEventListener("DOMContentLoaded",(()=>{loadIncludes()}));let isFileProtocol="file:"==location.protocol;function waitLoadScripts(e,t){let o=e.map((e=>document.getElementById(e+"-script"))),l=0;!function e(){let n=o[l];l++,n&&"true"!=n.getAttribute("loaded")||l<o.length&&e(),l<o.length?n.addEventListener("load",e):t()}()}</script><link rel="stylesheet" href="lib/styles/obsidian.css"><link rel="preload" href="lib/styles/other-plugins.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/other-plugins.css"></noscript><link rel="stylesheet" href="lib/styles/theme.css"><link rel="preload" href="lib/styles/global-variable-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/global-variable-styles.css"></noscript><link rel="preload" href="lib/styles/supported-plugins.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/supported-plugins.css"></noscript><link rel="preload" href="lib/styles/main-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/main-styles.css"></noscript></head><body class="publish css-settings-manager show-inline-title show-ribbon theme-light"><script defer="">let theme=localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");"dark"==theme?(document.body.classList.add("theme-dark"),document.body.classList.remove("theme-light")):(document.body.classList.add("theme-light"),document.body.classList.remove("theme-dark")),window.innerWidth<480?document.body.classList.add("is-phone"):window.innerWidth<768?document.body.classList.add("is-tablet"):window.innerWidth<1024?document.body.classList.add("is-small-screen"):document.body.classList.add("is-large-screen")</script><div class="webpage-container workspace"><div class="sidebar-left sidebar"><div class="sidebar-topbar"><div class="topbar-content"><label class="theme-toggle-container" for="theme_toggle"><input class="theme-toggle-input" type="checkbox" id="theme_toggle"><div class="toggle-background"></div></label></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="search-input-container"><input enterkeyhint="search" type="search" spellcheck="false" placeholder="Search..."><div class="search-input-clear-button" aria-label="Clear search"></div></div><include src="lib/html/file-tree.html"></include></div><script defer="">let ls = document.querySelector(".sidebar-left"); ls.classList.add("is-collapsed"); if (window.innerWidth > 768) ls.classList.remove("is-collapsed"); ls.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-left-width"));</script></div><div class="document-container markdown-reading-view hide"><div class="markdown-preview-view markdown-rendered allow-fold-headings allow-fold-lists is-readable-line-width"><style id="MJX-CHTML-styles"></style><pre class="frontmatter language-yaml" tabindex="0" style="display: none;"><code class="language-yaml is-loaded"><span class="token key atrule">Title</span><span class="token punctuation">:</span> Kubernetes Service and its Types
<span class="token key atrule">date</span><span class="token punctuation">:</span> <span class="token datetime number">2025-01-10</span>
<span class="token key atrule">tags</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> devops
  <span class="token punctuation">-</span> kubernetes
  <span class="token punctuation">-</span> reading_tasks</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre><div class="markdown-preview-sizer markdown-preview-section"><h1 class="page-title heading inline-title" id="K8s Service Types"><p dir="auto">K8s Service Types</p></h1><div class="el-h2 heading-wrapper"><h2 data-heading="What is a Kubernetes Service?" dir="auto" class="heading" id="What_is_a_Kubernetes_Service?"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>What is a Kubernetes Service?</h2><div class="heading-children"><div class="el-p"><p dir="auto">Source: <a data-tooltip-position="top" aria-label="https://cloud.google.com/kubernetes-engine/docs/concepts/service" rel="noopener nofollow" class="external-link" href="https://cloud.google.com/kubernetes-engine/docs/concepts/service" target="_blank">GKE Documentation</a></p></div><div class="el-p"><p dir="auto">The idea of a Service is to <strong>group a set of Pod endpoints into a single resource</strong>. You can configure various ways to access the grouping. By default, you get a stable cluster IP address that clients inside the cluster can use to contact Pods in the Service. A client sends a request to the stable IP address, and the request is routed to one of the Pods in the Service.</p></div><div class="el-p"><p dir="auto">A Service identifies its member Pods with a selector. For a Pod to be a member of the Service, the Pod must have all of the labels specified in the selector. A&nbsp;<a data-tooltip-position="top" aria-label="https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/" rel="noopener nofollow" class="external-link" href="https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/" target="_blank">label</a>&nbsp;is an arbitrary key/value pair that is attached to an object.</p></div><div class="el-p"><p dir="auto">The following Service manifest has a selector that specifies two labels. The&nbsp;<code>selector</code>&nbsp;field says any Pod that has both the&nbsp;<code>app: metrics</code>&nbsp;label and the&nbsp;<code>department:engineering</code>&nbsp;label is a member of this Service.</p></div><div class="el-pre"><pre><code data-line="0">apiVersion: v1
kind: Service
metadata:
  name: my-service
spec:
  selector:
    app: metrics
    department: engineering
  ports:
  ...
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="Why use a Kubernetes Service?" dir="auto" class="heading" id="Why_use_a_Kubernetes_Service?"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Why use a Kubernetes Service?</h2><div class="heading-children"><div class="el-p"><p dir="auto">In a Kubernetes cluster, each Pod has an internal IP address. But the Pods in a Deployment come and go, and their IP addresses change. So it doesn't make sense to use Pod IP addresses directly. With a Service, you get a stable IP address that lasts for the life of the Service, even as the IP addresses of the member Pods change.</p></div><div class="el-p"><p dir="auto">A Service also provides load balancing. Clients call a single, stable IP address, and their requests are balanced across the Pods that are members of the Service.</p></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="Types of Kubernetes Services" dir="auto" class="heading" id="Types_of_Kubernetes_Services"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Types of Kubernetes Services</h2><div class="heading-children"><div class="el-p"><p dir="auto">There are five types of Services:</p></div><div class="el-ul"><ul>
<li data-line="0" dir="auto"><strong>ClusterIP (default):</strong>&nbsp;Internal clients send requests to a stable internal IP address.<br>
</li>
<li data-line="2" dir="auto"><strong>NodePort:</strong>&nbsp;Clients send requests to the IP address of a node on one or more&nbsp;<code>nodePort</code>&nbsp;values that are specified by the Service.<br>
</li>
<li data-line="4" dir="auto"><strong>LoadBalancer:</strong>&nbsp;Clients send requests to the IP address of a network load balancer.<br>
</li>
<li data-line="6" dir="auto"><strong>ExternalName:</strong>&nbsp;Internal clients use the DNS name of a Service as an alias for an external DNS name.<br>
</li>
<li data-line="8" dir="auto"><strong>Headless:</strong>&nbsp;You can use a&nbsp;<a data-tooltip-position="top" aria-label="https://kubernetes.io/docs/concepts/services-networking/service/#headless-services" rel="noopener nofollow" class="external-link" href="https://kubernetes.io/docs/concepts/services-networking/service/#headless-services" target="_blank">headless service</a>&nbsp;when you want a Pod grouping, but don't need a stable IP address.<br>
</li>
</ul></div><div class="el-div"><div data-callout-metadata="" data-callout-fold="" data-callout="note" class="callout"><div class="callout-title" dir="auto"><div class="callout-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-pencil"><path d="M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"></path><path d="m15 5 4 4"></path></svg></div><div class="callout-title-inner">Note</div></div><div class="callout-content">
<p dir="auto">The&nbsp;<code>NodePort</code>&nbsp;type is an extension of the&nbsp;<code>ClusterIP</code>&nbsp;type. So a Service of type&nbsp;<code>NodePort</code>&nbsp;has a cluster IP address.</p>
<p dir="auto">The&nbsp;<code>LoadBalancer</code>&nbsp;type is an extension of the&nbsp;<code>NodePort</code>&nbsp;type. So a Service of type&nbsp;<code>LoadBalancer</code>&nbsp;has a cluster IP address and one or more&nbsp;<code>nodePort</code>&nbsp;values.</p>
</div></div></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="Services of type ClusterIP" dir="auto" class="heading" id="Services_of_type_ClusterIP"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Services of type ClusterIP</h2><div class="heading-children"><div class="el-p"><p dir="auto"><em>ClusterIP</em>&nbsp;is the default service type in Kubernetes, and it provides internal connectivity between different components of our application.&nbsp;</p></div><div class="el-p"><p dir="auto"><strong>Kubernetes assigns a virtual IP address to a&nbsp;<em>ClusterIP</em>&nbsp;service that can solely be accessed from within the cluster during its creation</strong>.&nbsp;This IP address is stable and doesn’t change even if the pods behind the service are rescheduled or replaced.</p></div><div class="el-p"><p dir="auto"><span style="color: #9F2B68"><em>ClusterIP</em>&nbsp;services are an excellent choice for internal communication between different components of our application that don’t need to be exposed to the outside world. For example, if we have a microservice that processes data and sends it to another microservice for further processing, we can use a&nbsp;<em>ClusterIP</em>&nbsp;service to connect them.</span></p></div><div class="el-p"><p dir="auto">When you create a Service of type&nbsp;<code>ClusterIP</code>, Kubernetes creates a stable IP address that is accessible from nodes in the cluster.</p></div><div class="el-p"><p dir="auto">Here is a manifest for a Service of type <strong><em>ClusterIP</em></strong>:</p></div><div class="el-pre"><pre><code data-line="0">apiVersion: v1
kind: Service
metadata:
  name: backend
spec:
  selector:
    app: backend
  ports:
  - name: http
    port: 80
    targetPort: 8080
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto"><span style="color: #E30B5C">In this example, we define a service named&nbsp;<em>backend</em>&nbsp;with a selector that targets pods labeled with&nbsp;<em>app: backend.</em>&nbsp;The service exposes port&nbsp;<em>80</em>, which is the port used by clients to access the service, and forwards the traffic to the pods’ port&nbsp;<em>8080</em>, which is where the backend application is running.</span></p></div><div class="el-p"><p dir="auto">You can&nbsp;<a data-tooltip-position="top" aria-label="https://cloud.google.com/kubernetes-engine/docs/how-to/exposing-apps" rel="noopener nofollow" class="external-link" href="https://cloud.google.com/kubernetes-engine/docs/how-to/exposing-apps" target="_blank">create the Service</a>&nbsp;by using&nbsp;<code>kubectl apply -f [MANIFEST_FILE]</code>. After you create the Service, you can use&nbsp;<code>kubectl get service</code>&nbsp;to see the stable IP address:</p></div><div class="el-pre"><pre><code data-line="0">NAME             TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)
my-cip-service   ClusterIP   10.11.247.213   none          80/TCP
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto">Clients in the cluster call the Service by using the cluster IP address and the TCP port specified in the&nbsp;<code>port</code>&nbsp;field of the Service manifest. The request is forwarded to one of the member Pods on the TCP port specified in the&nbsp;<code>targetPort</code>&nbsp;field. For the preceding example, a client calls the Service at&nbsp;<code>10.11.247.213</code>&nbsp;on TCP port 80. The request is forwarded to one of the member Pods on TCP port 8080. The member Pod must have a container that is listening on TCP port 8080. If there is no container listening on port 8080, clients will see a message like "Failed to connect" or "This site can't be reached".</p></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="Service of type NodePort" dir="auto" class="heading" id="Service_of_type_NodePort"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Service of type NodePort</h2><div class="heading-children"><div class="el-p"><p dir="auto"><em>NodePort</em>&nbsp;services extend the functionality of&nbsp;<em>ClusterIP</em>&nbsp;services by enabling external connectivity to our application. When we create a&nbsp;<em>NodePort</em>&nbsp;service on any node within the cluster that meets the defined criteria,&nbsp;<strong>Kubernetes opens up a designated port that forwards traffic to the corresponding&nbsp;<em>ClusterIP</em>&nbsp;service running on the node.</strong></p></div><div class="el-p"><p dir="auto"><span style="color: #9F2B68">These services are ideal for applications that need to be accessible from outside the cluster, such as web applications or APIs. With&nbsp;<em>NodePort</em>&nbsp;services, we can access our application using the node’s IP address and the port number assigned to the service.</span></p></div><div class="el-p"><p dir="auto">When you create a Service of type&nbsp;<code>NodePort</code>, Kubernetes gives you a&nbsp;<code>nodePort</code>&nbsp;value. Then the Service is accessible by using the IP address of any node along with the&nbsp;<code>nodePort</code>&nbsp;value.</p></div><div class="el-p"><p dir="auto">Here is a manifest for a Service of type&nbsp;<code>NodePort</code>:</p></div><div class="el-pre"><pre><code data-line="0">apiVersion: v1 
kind: Service 
metadata: 
  name: frontend 
spec: 
  selector: 
    app: frontend 
  type: NodePort 
  ports: 
    - name: http 
      port: 80 
      targetPort: 8080
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto"><span style="color: #E30B5C">We define a service named&nbsp;<em>frontend</em>&nbsp;that targets pods labeled with&nbsp;<em>app: frontend</em>&nbsp;by setting a selector. The service exposes port&nbsp;<em>80</em>&nbsp;and forwards the traffic to the pods’ port&nbsp;<em>8080</em>. We set the service type to&nbsp;<em>NodePort</em>, and Kubernetes exposes the service on a specific port on a qualifying node within the cluster.</span></p></div><div class="el-p"><p dir="auto">When we create a&nbsp;<em>NodePort</em>&nbsp;service, Kubernetes assigns a port number from a predefined range of&nbsp;<em>30000-32767</em>. Additionally, we can specify a custom port number by adding the&nbsp;<em>nodePort</em>&nbsp;field to the service definition:</p></div><div class="el-pre"><pre class="language-yaml" tabindex="0"><code data-line="0" class="language-yaml is-loaded"><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Service
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> frontend
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">selector</span><span class="token punctuation">:</span>
    <span class="token key atrule">app</span><span class="token punctuation">:</span> frontend
  <span class="token key atrule">type</span><span class="token punctuation">:</span> NodePort
  <span class="token key atrule">ports</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> http
    <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">80</span>
    <span class="token key atrule">targetPort</span><span class="token punctuation">:</span> <span class="token number">8080</span>
    <span class="token key atrule">nodePort</span><span class="token punctuation">:</span> <span class="token number">30080</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto"><span style="color: #9F2B68">The&nbsp;<em>nodePort</em>&nbsp;field is specified as&nbsp;<em>30080</em>, which tells Kubernetes to expose the service on port&nbsp;<em>30080</em>&nbsp;on every node in the cluster.</span></p></div><div class="el-p"><p dir="auto">After you create the Service, you can use&nbsp;<code>kubectl get service -o yaml</code>&nbsp;to view its specification and see the&nbsp;<code>nodePort</code>&nbsp;value.</p></div><div class="el-pre"><pre><code data-line="0">spec:
  clusterIP: 10.11.254.114
  externalTrafficPolicy: Cluster
  ports:
  - nodePort: 32675
    port: 80
    protocol: TCP
    targetPort: 8080
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto">External clients call the Service by using the external IP address of a node along with the TCP port specified by&nbsp;<code>nodePort</code>. The request is forwarded to one of the member Pods on the TCP port specified by the&nbsp;<code>targetPort</code>&nbsp;field.</p></div><div class="el-p"><p dir="auto">For example, suppose the external IP address of one of the cluster nodes is&nbsp;<code>203.0.113.2</code>. Then for the preceding example, the external client calls the Service at&nbsp;<code>203.0.113.2</code>&nbsp;on TCP port 32675. The request is forwarded to one of the member Pods on TCP port 8080. The member Pod must have a container listening on TCP port 8080.</p></div><div class="el-p"><p dir="auto">The&nbsp;<code>NodePort</code>&nbsp;Service type is an extension of the&nbsp;<code>ClusterIP</code>&nbsp;Service type. So internal clients have two ways to call the Service:</p></div><div class="el-ul"><ul>
<li data-line="0" dir="auto">Use&nbsp;<code>clusterIP</code>&nbsp;and&nbsp;<code>port</code>.</li>
<li data-line="1" dir="auto">Use a node's IP address and&nbsp;<code>nodePort</code>.</li>
</ul></div><div class="el-p"><p dir="auto">For some cluster configurations, the&nbsp;<a data-tooltip-position="top" aria-label="https://cloud.google.com/load-balancing/docs/https" rel="noopener nofollow" class="external-link" href="https://cloud.google.com/load-balancing/docs/https" target="_blank">external Application Load Balancer</a>&nbsp;uses a Service of type&nbsp;<code>NodePort</code>.</p></div><div class="el-p"><p dir="auto">An external Application Load Balancer is a proxy server, and is fundamentally different from the&nbsp;<a data-tooltip-position="top" aria-label="https://cloud.google.com/load-balancing/docs/network" rel="noopener nofollow" class="external-link" href="https://cloud.google.com/load-balancing/docs/network" target="_blank">external passthrough Network Load Balancer</a>&nbsp;described in this topic under&nbsp;<a data-tooltip-position="top" aria-label="https://cloud.google.com/kubernetes-engine/docs/concepts/service#services_of_type_loadbalancer" rel="noopener nofollow" class="external-link" href="https://cloud.google.com/kubernetes-engine/docs/concepts/service#services_of_type_loadbalancer" target="_blank">Service of type LoadBalancer</a>.</p></div><div class="el-div"><div data-callout-metadata="" data-callout-fold="" data-callout="note" class="callout"><div class="callout-title" dir="auto"><div class="callout-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-pencil"><path d="M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"></path><path d="m15 5 4 4"></path></svg></div><div class="callout-title-inner">Note</div></div><div class="callout-content">
<p dir="auto">You can specify your own&nbsp;<code>nodePort</code>&nbsp;value in the 30000--32767 range. However, it's best to omit the field and let Kubernetes allocate a&nbsp;<code>nodePort</code>&nbsp;for you. This avoids collisions between Services.</p>
</div></div></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="Services of type LoadBalancer" dir="auto" class="heading" id="Services_of_type_LoadBalancer"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Services of type LoadBalancer</h2><div class="heading-children"><div class="el-p"><p dir="auto"><a data-tooltip-position="top" aria-label="https://www.baeldung.com/ops/kubernetes-ingress-vs-load-balancer" rel="noopener nofollow" class="external-link" href="https://www.baeldung.com/ops/kubernetes-ingress-vs-load-balancer" target="_blank"><em>LoadBalancer</em>&nbsp;services</a>&nbsp;connect our applications externally, and production environments use them where high availability and scalability are critical. When we create a&nbsp;<em>LoadBalancer</em>&nbsp;service,&nbsp;<strong>Kubernetes provisions a load balancer in our cloud environment and forwards the traffic to the nodes running the service.</strong></p></div><div class="el-p"><p dir="auto"><em>LoadBalancer</em>&nbsp;services are ideal for applications that need to handle high traffic volumes, such as web applications or APIs. With&nbsp;<em>LoadBalancer</em>&nbsp;services, we can access our application using a single IP address assigned to the load balancer.</p></div><div class="el-p"><p dir="auto">Here’s an example of a simple&nbsp;<em>LoadBalancer</em>&nbsp;service definition:</p></div><div class="el-pre"><pre class="language-yaml" tabindex="0"><code data-line="0" class="language-yaml is-loaded"><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Service
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> web
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">selector</span><span class="token punctuation">:</span>
    <span class="token key atrule">app</span><span class="token punctuation">:</span> web
  <span class="token key atrule">type</span><span class="token punctuation">:</span> LoadBalancer
  <span class="token key atrule">ports</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> http
      <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">80</span>
      <span class="token key atrule">targetPort</span><span class="token punctuation">:</span> <span class="token number">8080</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto"><span style="color: #9F2B68">We set the service type to&nbsp;<em>LoadBalancer</em>&nbsp;to instruct Kubernetes to provision a load balancer. Here, we define a service named&nbsp;<em>web</em>&nbsp;and specify a selector that targets pods labeled with&nbsp;<em>app: web</em>. Additionally, we expose port&nbsp;<em>80</em>&nbsp;and forward traffic to the pods’ port&nbsp;<em>8080</em>.</span></p></div><div class="el-p"><p dir="auto">After creating the&nbsp;<em>LoadBalancer</em>&nbsp;service, Kubernetes provisions a load balancer in the cloud environment with a public IP address. We can use this IP address to access our application from outside the cluster.</p></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="Service of type ExternalName" dir="auto" class="heading" id="Service_of_type_ExternalName"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Service of type ExternalName</h2><div class="heading-children"><div class="el-p"><p dir="auto">A Service of type&nbsp;<code>ExternalName</code>&nbsp;provides an internal alias for an external DNS name. Internal clients make requests using the internal DNS name, and the requests are redirected to the external name.</p></div><div class="el-p"><p dir="auto">Here is a manifest for a Service of type&nbsp;<code>ExternalName</code>:</p></div><div class="el-pre"><pre><code data-line="0">apiVersion: v1
kind: Service
metadata:
  name: my-xn-service
spec:
  type: ExternalName
  externalName: example.com
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto">When you create a Service, Kubernetes creates a DNS name that internal clients can use to call the Service. For the preceding example, the DNS name is my-xn-service.default.svc.cluster.local. When an internal client makes a request to my-xn-service.default.svc.cluster.local, the request gets redirected to example.com.</p></div><div class="el-p"><p dir="auto">The&nbsp;<code>ExternalName</code>&nbsp;Service type is fundamentally different from the other Service types. In fact, a Service of type&nbsp;<code>ExternalName</code>&nbsp;does not fit the definition of Service given at the beginning of this topic. A Service of type&nbsp;<code>ExternalName</code>&nbsp;is not associated with a set of Pods, and it does not have a stable IP address. Instead, a Service of type&nbsp;<code>ExternalName</code>&nbsp;is a mapping from an internal DNS name to an external DNS name.</p></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="Headless Service" dir="auto" class="heading" id="Headless_Service"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Headless Service</h2><div class="heading-children"><div class="el-p"><p dir="auto">A headless Service is a type of Kubernetes Service that does not allocate a cluster IP address. Instead, a headless Service uses DNS to expose the IP addresses of the Pods that are associated with the Service. This allows you to connect directly to the Pods, instead of going through a proxy.</p></div><div class="el-p"><p dir="auto">Headless Services are useful for a variety of scenarios, including:</p></div><div class="el-ul"><ul>
<li data-line="0" dir="auto"><strong>Load balancing across pods</strong>: You can use headless Services to load balance across Pods. To implement this, create a Service with a selector that matches the Pods that you want to load balance. The Service will then distribute traffic evenly across all of the Pods that match the selector.<br>
</li>
<li data-line="2" dir="auto"><strong>Service discovery</strong>: You can use a headless Service to implement Service discovery. To implement this, create a Service with a name and a selector. DNS record for the headless service contains all the IPs of the Pods behind the Service that match the selector. Clients can use these DNS records to find the IP addresses of the Pods that are associated with the Service.<br>
</li>
<li data-line="4" dir="auto"><strong>Direct Pod access</strong>: Clients can connect directly to the Pods that are associated with a headless Service, which can be useful for Services that require direct access to the underlying Pods, such as load balancers and DNS servers.<br>
</li>
<li data-line="6" dir="auto"><strong>Flexibility</strong>: Headless services can be used to create a variety of different topologies, such as load balancers, DNS servers, and distributed databases.<br>
</li>
</ul></div><div class="el-p"><p dir="auto">If you have special network requirements for your workloads that can not be solved using headless Services with selectors, there is also the possibility of using headless Services without selectors. Headless Services are a useful tool for accessing Services that are not located within the Kubernetes cluster itself, as the control plane does not create EndpointSlice objects, you can read more about it in&nbsp;<a data-tooltip-position="top" aria-label="https://kubernetes.io/docs/concepts/services-networking/service/#without-selectors" rel="noopener nofollow" class="external-link" href="https://kubernetes.io/docs/concepts/services-networking/service/#without-selectors" target="_blank">Service without selectors</a></p></div><div class="el-p"><p dir="auto">The following example is a manifest for a Headless Service:</p></div><div class="el-pre"><pre><code data-line="0">apiVersion: v1
kind: Service
metadata:
  name: nginx
spec:
  clusterIP: None
  selector:
    app: nginx
  ports:
  - name: http
    port: 80
    targetPort: 80
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto">Once you have created a headless Service, you can find the IP addresses of the Pods that are associated with the Service by querying the DNS. For example, the following command lists the IP addresses of the Pods that are associated with the nginx Service:</p></div><div class="el-p"><p dir="auto"><strong>Note:</strong>&nbsp;This example assumes that the Pods created are tagged with the&nbsp;<code>nginx</code>&nbsp;label.</p></div><div class="el-pre"><pre><code data-line="0">dig +short nginx.default.svc.cluster.local
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto">Another example which uses Kubernetes query expansion::</p></div><div class="el-pre"><pre><code data-line="0">dig +short +search nginx
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto">You can create a headless Service with a single command, and headless Services are easy to update and scale.</p></div><div class="el-pre"><pre><code data-line="0">kubectl create service clusterip my-svc --clusterip="None" --dry-run=client -o yaml &gt; [file.yaml]
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="Service abstraction" dir="auto" class="heading" id="Service_abstraction"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Service abstraction</h2><div class="heading-children"><div class="el-p"><p dir="auto">A Service is an abstraction in the sense that it is not a process that listens on some network interface. Part of the abstraction is implemented in the&nbsp;<a data-tooltip-position="top" aria-label="https://linux.die.net/man/8/iptables" rel="noopener nofollow" class="external-link" href="https://linux.die.net/man/8/iptables" target="_blank">iptables</a>&nbsp;rules of the cluster nodes. Depending on the type of the Service, other parts of the abstraction are implemented by either an&nbsp;<a data-tooltip-position="top" aria-label="https://cloud.google.com/load-balancing/docs/network" rel="noopener nofollow" class="external-link" href="https://cloud.google.com/load-balancing/docs/network" target="_blank">external passthrough Network Load Balancer</a>&nbsp;or an&nbsp;<a data-tooltip-position="top" aria-label="https://cloud.google.com/load-balancing/docs/https" rel="noopener nofollow" class="external-link" href="https://cloud.google.com/load-balancing/docs/https" target="_blank">external Application Load Balancer</a>.</p></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="Arbitrary Service ports" dir="auto" class="heading" id="Arbitrary_Service_ports"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Arbitrary Service ports</h2><div class="heading-children"><div class="el-p"><p dir="auto">The value of the&nbsp;<code>port</code>&nbsp;field in a Service manifest is arbitrary. However, the value of&nbsp;<code>targetPort</code>&nbsp;is not arbitrary. Each member Pod must have a container listening on&nbsp;<code>targetPort</code>.</p></div><div class="el-p"><p dir="auto">Here's a Service, of type&nbsp;<code>LoadBalancer</code>, that has a&nbsp;<code>port</code>&nbsp;value of 50000:</p></div><div class="el-pre"><pre><code data-line="0">apiVersion: v1
kind: Service
metadata:
  name: my-ap-service
spec:
  clusterIP: 10.11.241.93
  externalTrafficPolicy: Cluster
  ports:
  - nodePort: 30641
    port: 50000
    protocol: TCP
    targetPort: 8080
  selector:
    app: parts
    department: engineering
  sessionAffinity: None
  type: LoadBalancer
status:
  loadBalancer:
    ingress:
    - ip: 203.0.113.200
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto">A client calls the Service at&nbsp;<code>203.0.113.200</code>&nbsp;on TCP port 50000. The request is forwarded to one of the member Pods on TCP port 8080.</p></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="Multiple ports" dir="auto" class="heading" id="Multiple_ports"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Multiple ports</h2><div class="heading-children"><div class="el-p"><p dir="auto">The&nbsp;<code>ports</code>&nbsp;field of a Service is an array of&nbsp;<a data-tooltip-position="top" aria-label="https://v1-25.docs.kubernetes.io/docs/reference/generated/kubernetes-api/v1.25/#serviceport-v1-core" rel="noopener nofollow" class="external-link" href="https://v1-25.docs.kubernetes.io/docs/reference/generated/kubernetes-api/v1.25/#serviceport-v1-core" target="_blank">ServicePort</a>&nbsp;objects. The ServicePort object has these fields:</p></div><div class="el-ul"><ul>
<li data-line="0" dir="auto"><code>name</code></li>
<li data-line="1" dir="auto"><code>protocol</code></li>
<li data-line="2" dir="auto"><code>port</code></li>
<li data-line="3" dir="auto"><code>targetPort</code></li>
<li data-line="4" dir="auto"><code>nodePort</code></li>
</ul></div><div class="el-p"><p dir="auto">If you have more than one ServicePort, each ServicePort must have a unique name.</p></div><div class="el-p"><p dir="auto">Here is a Service, of type&nbsp;<code>LoadBalancer</code>, that has two&nbsp;<code>ServicePort</code>&nbsp;objects:</p></div><div class="el-pre"><pre><code data-line="0">apiVersion: v1
kind: Service
metadata:
  name: my-tp-service
spec:
  clusterIP: 10.11.242.196
  externalTrafficPolicy: Cluster
  ports:
  - name: my-first-service-port
    nodePort: 31233
    port: 60000
    protocol: TCP
    targetPort: 50000
  - name: my-second-service-port
    nodePort: 31081
    port: 60001
    protocol: TCP
    targetPort: 8080
  selector:
    app: tests
    department: engineering
  sessionAffinity: None
  type: LoadBalancer
status:
  loadBalancer:
    ingress:
    - ip: 203.0.113.201
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto"><strong>Note:</strong>&nbsp;You can specify a maximum of five ports for a LoadBalancer service.</p></div><div class="el-p"><p dir="auto">In the preceding example, if a client calls the Service at&nbsp;<code>203.0.113.201</code>&nbsp;on TCP port 60000, the request is forwarded to a member Pod on TCP port 50000. But if a client calls the Service at&nbsp;<code>203.0.113.201</code>&nbsp;on TCP port 60001, the request is forwarded to a member Pod on TCP port 8080.</p></div><div class="el-p"><p dir="auto">Each member Pod must have a container listening on TCP port 50000 and a container listening on TCP port 8080. This could be a single container with two threads, or two containers running in the same Pod.</p></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="Service endpoints" dir="auto" class="heading" id="Service_endpoints"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Service endpoints</h2><div class="heading-children"><div class="el-p"><p dir="auto">When you create a Service, Kubernetes creates an&nbsp;<a data-tooltip-position="top" aria-label="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.25/#endpoints-v1-core" rel="noopener nofollow" class="external-link" href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.25/#endpoints-v1-core" target="_blank">Endpoints</a>&nbsp;object that has the same name as your Service. Kubernetes uses the Endpoints object to keep track of which Pods are members of the Service.</p></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="Single-stack and dual-stack Services" dir="auto" class="heading" id="Single-stack_and_dual-stack_Services"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Single-stack and dual-stack Services</h2><div class="heading-children"><div class="el-p"><p dir="auto">You can create an IPv6 Service of type&nbsp;<a data-tooltip-position="top" aria-label="https://cloud.google.com/kubernetes-engine/docs/concepts/service#services_of_type_clusterip" rel="noopener nofollow" class="external-link" href="https://cloud.google.com/kubernetes-engine/docs/concepts/service#services_of_type_clusterip" target="_blank"><code>ClusterIP</code></a>&nbsp;or&nbsp;<a data-tooltip-position="top" aria-label="https://cloud.google.com/kubernetes-engine/docs/concepts/service#service_of_type_nodeport" rel="noopener nofollow" class="external-link" href="https://cloud.google.com/kubernetes-engine/docs/concepts/service#service_of_type_nodeport" target="_blank"><code>NodePort</code></a>. GKE supports dual-stack Services of type&nbsp;<a data-tooltip-position="top" aria-label="https://cloud.google.com/kubernetes-engine/docs/concepts/service-load-balancer" rel="noopener nofollow" class="external-link" href="https://cloud.google.com/kubernetes-engine/docs/concepts/service-load-balancer" target="_blank"><code>LoadBalancer</code></a>&nbsp;during&nbsp;<a data-tooltip-position="top" aria-label="https://cloud.google.com/products#product-launch-stages" rel="noopener nofollow" class="external-link" href="https://cloud.google.com/products#product-launch-stages" target="_blank">Preview</a>&nbsp;which carries no SLA or technical support.</p></div><div class="el-p"><p dir="auto">For each of these Service types, you can define&nbsp;<code>ipFamilies</code>&nbsp;and&nbsp;<code>ipFamilyPolicy</code>&nbsp;fields as either IPv4, IPv6, or a&nbsp;<a data-tooltip-position="top" aria-label="https://kubernetes.io/docs/concepts/services-networking/dual-stack/#services" rel="noopener nofollow" class="external-link" href="https://kubernetes.io/docs/concepts/services-networking/dual-stack/#services" target="_blank">dual-stack</a>&nbsp;Service.</p></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="Choosing the Right Service Type" dir="auto" class="heading" id="Choosing_the_Right_Service_Type"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Choosing the Right Service Type</h2><div class="heading-children"><div class="el-table" dir="ltr" style="overflow-x: auto;"><table>
<thead>
<tr>
<th dir="ltr">Service Type</th>
<th dir="ltr">Use Case</th>
<th dir="ltr">Accessibility</th>
<th dir="ltr">Resource Allocation</th>
</tr>
</thead>
<tbody>
<tr>
<td dir="ltr">ClusterIP</td>
<td dir="ltr">Internal communication between application components</td>
<td dir="ltr">Within the cluster only</td>
<td dir="ltr">Minimal resources needed</td>
</tr>
<tr>
<td dir="ltr">NodePort</td>
<td dir="ltr">External accessibility for web applications or APIs</td>
<td dir="ltr">Accessible from outside the cluster via a high-numbered port on the node</td>
<td dir="ltr">Additional resources needed</td>
</tr>
<tr>
<td dir="ltr">LoadBalancer</td>
<td dir="ltr">Production environments with high traffic volumes</td>
<td dir="ltr">Accessible from outside the cluster via a load balancer</td>
<td dir="ltr">Significant resources needed</td>
</tr>
<tr>
<td dir="ltr">Cloud Provider’s Load Balancer</td>
<td dir="ltr">Using a cloud provider for Kubernetes</td>
<td dir="ltr">Accessible from outside the cluster via the cloud provider’s load balancer</td>
<td dir="ltr">May result in cost savings and better performance</td>
</tr>
</tbody>
</table></div><div class="mod-footer mod-ui pixel-banner" style="--pixel-banner-width: -24px; --pixel-banner-scrollbar-width: 12px;"></div></div></div></div></div></div><div class="sidebar-right sidebar"><div class="sidebar-topbar"><div class="topbar-content"></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="graph-view-wrapper"><div class="sidebar-section-header">Interactive Graph</div><div class="graph-view-placeholder">
		<div class="graph-view-container">
			<div class="graph-icon graph-expand" role="button" aria-label="Expand" data-tooltip-position="top"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline></svg></div>
			<canvas id="graph-canvas" class="hide" width="512px" height="512px"></canvas>
		</div>
		</div></div><div class="tree-container mod-root nav-folder tree-item outline-tree" data-depth="0"><div class="tree-header"><span class="sidebar-section-header">Table Of Contents</span><button class="clickable-icon collapse-tree-button" aria-label="Collapse All"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></svg></button></div><div class="tree-scroll-area tree-item-children nav-folder-children"><div class="tree-item mod-tree-folder nav-folder mod-collapsible is-collapsed" style="display: none;"></div><div class="tree-item" data-depth="1"><a class="tree-link" href="devops\for-reading\k8s-service-types.html#K8s Service Types"><div class="tree-item-contents heading-link" heading-name="K8s Service Types"><span class="tree-item-title">K8s Service Types</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="2"><a class="tree-link" href="devops\for-reading\k8s-service-types.html#What_is_a_Kubernetes_Service?"><div class="tree-item-contents heading-link" heading-name="What is a Kubernetes Service?"><span class="tree-item-title">What is a Kubernetes Service?</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="devops\for-reading\k8s-service-types.html#Why_use_a_Kubernetes_Service?"><div class="tree-item-contents heading-link" heading-name="Why use a Kubernetes Service?"><span class="tree-item-title">Why use a Kubernetes Service?</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="devops\for-reading\k8s-service-types.html#Types_of_Kubernetes_Services"><div class="tree-item-contents heading-link" heading-name="Types of Kubernetes Services"><span class="tree-item-title">Types of Kubernetes Services</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="devops\for-reading\k8s-service-types.html#Services_of_type_ClusterIP"><div class="tree-item-contents heading-link" heading-name="Services of type ClusterIP"><span class="tree-item-title">Services of type ClusterIP</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="devops\for-reading\k8s-service-types.html#Service_of_type_NodePort"><div class="tree-item-contents heading-link" heading-name="Service of type NodePort"><span class="tree-item-title">Service of type NodePort</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="devops\for-reading\k8s-service-types.html#Services_of_type_LoadBalancer"><div class="tree-item-contents heading-link" heading-name="Services of type LoadBalancer"><span class="tree-item-title">Services of type LoadBalancer</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="devops\for-reading\k8s-service-types.html#Service_of_type_ExternalName"><div class="tree-item-contents heading-link" heading-name="Service of type ExternalName"><span class="tree-item-title">Service of type ExternalName</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="devops\for-reading\k8s-service-types.html#Headless_Service"><div class="tree-item-contents heading-link" heading-name="Headless Service"><span class="tree-item-title">Headless Service</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="devops\for-reading\k8s-service-types.html#Service_abstraction"><div class="tree-item-contents heading-link" heading-name="Service abstraction"><span class="tree-item-title">Service abstraction</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="devops\for-reading\k8s-service-types.html#Arbitrary_Service_ports"><div class="tree-item-contents heading-link" heading-name="Arbitrary Service ports"><span class="tree-item-title">Arbitrary Service ports</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="devops\for-reading\k8s-service-types.html#Multiple_ports"><div class="tree-item-contents heading-link" heading-name="Multiple ports"><span class="tree-item-title">Multiple ports</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="devops\for-reading\k8s-service-types.html#Service_endpoints"><div class="tree-item-contents heading-link" heading-name="Service endpoints"><span class="tree-item-title">Service endpoints</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="devops\for-reading\k8s-service-types.html#Single-stack_and_dual-stack_Services"><div class="tree-item-contents heading-link" heading-name="Single-stack and dual-stack Services"><span class="tree-item-title">Single-stack and dual-stack Services</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="devops\for-reading\k8s-service-types.html#Choosing_the_Right_Service_Type"><div class="tree-item-contents heading-link" heading-name="Choosing the Right Service Type"><span class="tree-item-title">Choosing the Right Service Type</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div></div></div></div><script defer="">let rs = document.querySelector(".sidebar-right"); rs.classList.add("is-collapsed"); if (window.innerWidth > 768) rs.classList.remove("is-collapsed"); rs.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-right-width"));</script></div></div></body></html>